<!DOCTYPE html>
<html>
  <head>
    <title>Arrays and Loops</title>
 
  </head>
  <body>
    
    <script>
      const myArray = [
        10, 
        20, 
        30
      ];
      console.log(myArray);
      // recuperando o tamanho do array.
      console.log(myArray.length);

      // recuperando um único elemento do array.
      console.log(myArray[0]);
      console.log(myArray[1]);
      console.log(myArray[2]);

      // alterando o elemento da primeira posição do array.
      myArray[0] = 99;
      console.log(myArray);

      // inserindo um novo valor na última posição do array
      myArray.push(35);
      console.log(myArray);

      // Um array pode conter diversos tipos, inclusive objects e outro array.
      const newArray = [10, 'hello', true, {name: 'alex'}, [1, 2]];
      console.log(newArray.length);

      // verificando que o array é um objeto
      console.log(typeof [10, 50]);

      // confirmando se é um array
      console.log(Array.isArray([40,50]));

      console.log(myArray);

      // removendo elementos de um array. Primeiro parâmetro é a posição e o segundo parâmetros é a qtde. de elementos a serem removidos.
      myArray.splice(0,1);
      console.log(myArray);
      // removendo mais dois elementos. Ficou só o último.
      myArray.splice(0,2);
      console.log(myArray);

      // Loop em Javascript com while
      let i = 1;
      while (i <= 5) {
        console.log(i);
        // i = i + 1; ou i += 1; ou
        i++;
      }

      // Loop em Javascript com for
      for (i = 1; i <= 5; i++) {
        console.log(i);
      }

      // Loop non-standard - ex.: para a geração de número randômico >= 0.5 - é melhor usar o 'while'
      let randomNumber = 0;
      while (randomNumber < 0.5) {
        randomNumber = Math.random();
      }
      // ele só sairá do loop quando gerar nº >= 0.5
      console.log (randomNumber);

      // Usando o loop para ler array 'loop through array'
      const todoList = [
        'Make dinner',
        'wash dishes',
        'mop the floor'
      ];

      for (i = 0; i < todoList.length; i++) {
        const todoValue = todoList[i];
        console.log(todoValue);
      }

      // Como somar todos os números de um array. (acumulação)
      const nums = [1, 1, 4, 3, 7, 9, 3, 2, 1, 4, 8, 6, 5, 5];
      let total = 0

      for (i = 0; i < nums.length; i++) {
        const arrayValue = nums[i];
        total += arrayValue;
      }
      console.log(total);

      // como criar um array com os números de outro array  *2
      const numsDoubled = [];

      for (i = 0; i < nums.length; i++) {
        const numsValueDoubled = nums[i] * 2;
        // numsDoubled[i] = numsValueDoubled; ou
        numsDoubled.push(numsValueDoubled);
      }
      console.log(numsDoubled);

      // Exercícios Lesson 11
      const numbsArray = [10, 20, 30, 40, 50, 60];
      const colorsArray = ['blue', 'pink', 'yellow', 'white', 'black', 'green']

      getLastValue(numbsArray);
      getLastValue(colorsArray);

      arrayInversion(numbsArray);
      arrayInversion(colorsArray);

      addOne(numbsArray);

      console.log(numbsArray);
      // Recuperando a posição do último elemento do array.
      let lastNumber = numbsArray.length - 1;
      console.log(lastNumber);
      // Recuperando o último elemento do array.
      console.log(numbsArray[lastNumber]);
      // Alterando o valor do último elemento do array.
      numbsArray[lastNumber] = 99;
      console.log(numbsArray);

      // criando uma função para recuperar o último elemento de um array
      function getLastValue(arrayElements) {
        const lastPosition = arrayElements.length - 1;
        const lastElement = arrayElements[lastPosition];
        console.log(lastElement);
      }
      // Função para inverter a posição dos elementos do array
      function arrayInversion(arrayElements) {
        const invertedArray = [];
        const lastPosition = arrayElements.length - 1;
        for (let i = lastPosition; i >= 0; i--) {
          invertedArray.push(arrayElements[i]);
        }
        console.log(invertedArray);
      }

      // função para adicionar 1 aos elementos do array
      function addOne(arrayElements) {
        const addOneArray = [];
        for (let i = 0; i < arrayElements.length; i++) {
         addOneArray[i] = arrayElements[i] + 1;
        }
        console.log(addOneArray);
      }

      const floatNumbers = [-4, -3, -2, 0, 1, 2, 3, 4];
      addOne(floatNumbers);

      // função para adicionar um num aos elementos do array
      function addNum(arrayElements, num) {
        const addNumArray = [];
        for (let i = 0; i < arrayElements.length; i++) {
          const valueArray = arrayElements[i];
          addNumArray.push(valueArray + num);
        }
        console.log (addNumArray);
      }
      addNum(floatNumbers, 10);

      // função para somar os elementos de dois arrays
      function addArrays(array1, array2) {
        const newMixArray = [];
        const lengthArray1 = array1.length;
        const lengthArray2 = array2.length;
        if (lengthArray1 != lengthArray2) {
          console.log('This function should not be done.')
        } else {
          for (let i = 0; i < lengthArray1; i++) {
            const elementArray1 = array1[i];
            const elementArray2 = array2[i];
            newMixArray.push(elementArray1 + elementArray2);
          }
          console.log(newMixArray);
        }
      }

      const numbArray1 = [10, 20, 30, 40, 50];
      const numbArray2 = [100, 200, 300, 400, 500];
      addArrays(numbArray1, numbArray2);

      // Função que conta os positivos
      function countPositive(array) {
        let count = 0;
        for (i=0; i < array.length; i++) {
          const arrayElement = array[i];
          if (arrayElement > 0) {
            count += 1;
          }
        }
        console.log(`O array possui ${count} números positivos`);
      }

      countPositive(numbArray1);
      countPositive(floatNumbers);

      // Função que conta os pares
      function countPares(array) {
        let count = 0;
        for (i=0; i < array.length; i++) {
          const arrayElement = array[i];
          if (arrayElement % 2 === 0) {
            count += 1;
          }
        }
        console.log(`O array possui ${count} números pares.`);
      }

      const mixNumber = [-10, 2, 5, 73, 3, -5, 8, 9, 7, -25];
      countPares(numbArray1);
      countPares(floatNumbers);
      countPares(mixNumber);
    
      // Função para recuperar o mínimo e o máximo de um array
      function minMax(array) {
        let min = array[0];
        let max = array[0];
        for (let i = 0; i < array.length; i++) {
          if (min > array[i]) {
            min = array[i];
          }
          if (max < array[i]) {
            max = array[i];
          }
        }
        const minMaxObject = {
          minimo: min,
          maximo: max
        }
        return minMaxObject;
      }

      console.log(minMax(mixNumber));

      const arrayEsquisito = [3];
      const arrayEsquisito2 = [];

      minMax(arrayEsquisito);
      minMax(arrayEsquisito2);

      // Função para contar as palavras iguais dentro de um array.
      function countWords(words) {
        const result = {};
        
        for (let i = 0; i < words.length; i++) {
          word = words[i];
          if (!result[word]) {
            result[word] = 1;
          } else {
            result[word]++;
          }
          
        }
        return result;
      }

      const palavras = ['apple', 'grape', 'orange', 'apple', 'apple', 'mango', 'grape', 'orange'];

      console.log(countWords(palavras));

      const listaEmail = [{
        name: 'Alex',
        email: 'iapc73@gmail.com'
      }, {
        name: 'Jacque',
        email: 'jacque@gmail.com'
      }, {
        name: 'Alex',
        email: 'iapc72@yahoo.com.br'
      }, {
        name: 'Sergio',
        email: 'sergio@gmail.com'
      }, {
        name: 'Jacque',
        email: 'jffc@gmail.com'
      }
    ]

      function countObjects(objectsArray) {
        const result = {};

        for (let i = 0; i < objectsArray.length; i++) {
          object = objectsArray[i];
          name = object.name;
          email = object.email;
          if (!result[name]) {
            result[name] = 1;
          } else {
            result[name] = result[name] + 1;
          }
        
        }
        return result;
      }

      console.log(countObjects(listaEmail));

      // Arrays são referências a uma área de memória onde estão armazenados os seus elementos.
      const array10 = [1, 2, 3];
      const array20 = array10;
      array20.push(4);
      console.log(array20);
      console.log(array10);
      // o resultado é o mesmo, pois os dois arrays estão apontando para a mesma área de memória.

      // se quiser fazer a segregação dos arrays, usa-se a propriedade slice().
      const arrayA = [1, 2, 3];
      const arrayB = arrayA.slice();
      arrayB.push(4);
      console.log(arrayB);
      console.log(arrayA);
      // Neste caso, somente o arrayB recebeu o valor 4.

      // Outra forma de declarar um array salvando cada valor em uma variável diferente.
      [firstValue, secondValue, thirdValue] = [1, 2, 3];
      console.log(firstValue);
      console.log(secondValue);
      console.log(thirdValue);

      // Break feature for loops - stop loop early
      // Continue feature for loops - skip one iteraction
      for (let i = 1; i <= 10; i++) {
        if (i % 3 === 0) {
          continue;
          // pula os números divisíveis por 3
        }
        console.log(i);
        if (i === 8) {
          break;
          // no número oito, sai do loop
        }
      }

      // Continue feature in while loop: É necessário incrementar o contador manualmente caso entre na condição que usará o 'continue'. Caso contrário, entra em loop infinito.
      let a = 1;
      while (a <= 10) {
        console.log(a);
        if (a % 3 === 0) {
          a++;
          continue;
        }
        a++;
      }

      function searchWord(array) {
        result = {};
        for (let i = 0; i < array.length; i++) {
          objectArray = array[i];
          if (objectArray === 'search') {
            result = i;
            return result;
          } else {
            result = -1;
          }
        }
        return result;
      }

      const words2 = ['agua', 'laranja', 'limão', 'search', 'morango'];

      console.log(searchWord(words2));
    </script>
  </body>
</html>
